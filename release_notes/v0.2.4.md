# v0.2.4 - Sync ID Preservation Fix

## Bug Fixes

- **Fixed sync not preserving project/entry IDs from remote**: When syncing to a new device, projects and entries now retain their original IDs from the remote database instead of generating new ones. This fixes the "project not found" error that occurred when entries were pulled before their associated projects were properly linked.

## New Features

- **Auto-sync during init**: When configuring Turso during `unikortex init`, the CLI now automatically performs a full sync to pull any existing data from the remote database. This ensures a new device has all data from the start.

## Technical Changes

- Added `UpsertProjectInput` and `UpsertEntryInput` types to support upsert operations with explicit IDs
- Added `upsertProject()` and `upsertEntry()` methods to Storage interface and SQLiteStorage implementation
- Updated `SyncManager` to use upsert methods that preserve original IDs during sync
- Uses SQLite `ON CONFLICT ... DO UPDATE` for atomic upsert operations

## Impact

This fix ensures that data synced from Turso maintains referential integrity across devices. Projects and entries now keep their original IDs, so foreign key relationships between entries and projects remain valid.
